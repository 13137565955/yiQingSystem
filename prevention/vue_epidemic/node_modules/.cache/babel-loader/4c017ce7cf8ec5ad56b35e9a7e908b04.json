{"remainingRequest":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js!D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\1biyesheji\\code\\prevention\\vue_epidemic\\src\\components\\main\\leave.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\src\\components\\main\\leave.vue","mtime":1639826493810},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626773863946},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1639745711564},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626773863946},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1639745719456}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBVc2VyU2l6ZTogMCwKICAgICAgY3VycmVudFBhZ2U6IDEyLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgcGFnZU5vOiAxLAogICAgICBjdXJyZW50UGFnZTE6IDEwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sIHRoaXMucGFnZVNpemUpOwogIH0sCiAgZmlsdGVyczogewogICAgZGF0ZTogZnVuY3Rpb24gZGF0ZSh0aW1lKSB7CiAgICAgIHZhciBkdCA9IG5ldyBEYXRlKHRpbWUpOyAvLyB5eXl5LW1tLWRkCgogICAgICB2YXIgeSA9IGR0LmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBtID0gZHQuZ2V0TW9udGgoKSArIDE7CiAgICAgIHZhciBkID0gZHQuZ2V0RGF0ZSgpOwogICAgICB2YXIgaGggPSBkdC5nZXRIb3VycygpOwogICAgICB2YXIgbW0gPSBkdC5nZXRNaW51dGVzKCk7CiAgICAgIHZhciBzcyA9IGR0LmdldFNlY29uZHMoKTsKICAgICAgcmV0dXJuIHkgKyAiLSIgKyBtICsgIi0iICsgZCArICIgICIgKyBoaCArICI6IiArIG1tICsgIjoiICsgc3M7CiAgICB9LAogICAgc3RhdGUxOiBmdW5jdGlvbiBzdGF0ZTEoaW50KSB7CiAgICAgIGlmIChpbnQgPT0gMCkgewogICAgICAgIHJldHVybiAi5pyq5a6h5om5IjsKICAgICAgfQoKICAgICAgaWYgKGludCA9PSAxKSB7CiAgICAgICAgcmV0dXJuICLlrqHmibnkuI3pgJrov4ciOwogICAgICB9CgogICAgICBpZiAoaW50ID09IDIpIHsKICAgICAgICByZXR1cm4gIuWuoeaJuemAmui/hyI7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAgICAgICog5L+u5pS55a6h5om554q25oCB5Li65ZCM5oSPDQogICAgICAgICAgbF9pZDpyb3cubF9pZCwNCiAgICAgICAgICB1cFN0YXRlOjINCiAgICAgICAgICAqLwogICAgdmlldzogZnVuY3Rpb24gdmlldyhpbmRleCwgcm93LCB1cFN0YXRlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvc2p3dCh7CiAgICAgICAgdXJsOiAiL2FkbWluL3VwTGVhdmVTdGF0ZSIsCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBsX2lkOiByb3cubF9pZCwKICAgICAgICAgIHVwU3RhdGU6IHVwU3RhdGUKICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy5nZXRhcHBsaWNhdGlvbihfdGhpcy5wYWdlTm8sIF90aGlzLnBhZ2VTaXplKTsKICAgICAgICB9LAogICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAgICAgIOiOt+WPluivt+WBh+WNlQ0KICAgICAgICAgICogQHBhcmFtIG5vDQogICAgICAgICAgKiBAcGFyYW0gc2l6ZQ0KICAgICAgICAgIGN1cnJQYWdlOm5vLA0KICAgICAgICAgIHBhZ2VOdW06c2l6ZQ0KICAgICAgICAgIHRoaXMucGFnZU5vPTENCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YT1yZXN1bHQuZGF0YTsNCiAgICAgICAgICB0aGlzLlVzZXJTaXplID0gcmVzdWx0LnRvdGFsDQogICAgICAgICAgKi8KICAgIGdldGFwcGxpY2F0aW9uOiBmdW5jdGlvbiBnZXRhcHBsaWNhdGlvbihubywgc2l6ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIG5vID0gTnVtYmVyKG5vKSAtIDE7CiAgICAgIHRoaXMuJGF4aW9zand0KHsKICAgICAgICB1cmw6ICIvYWRtaW4vZ2V0TGVhdmUiLAogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgY3VyclBhZ2U6IG5vLAogICAgICAgICAgcGFnZU51bTogc2l6ZQogICAgICAgIH0sCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHsKICAgICAgICAgIF90aGlzMi5wYWdlTm8gPSAxOwogICAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgX3RoaXMyLlVzZXJTaXplID0gcmVzdWx0LnRvdGFsOwogICAgICAgIH0sCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkgewogICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/liIbpobUKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sIHRoaXMucGFnZVNpemUpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZU5vID0gdmFsOwogICAgICB0aGlzLmdldGFwcGxpY2F0aW9uKHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["leave.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\r\n            <span>请假管理</span>\r\n          </div>\r\n          <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n            <el-table-column label=\"申请时间\">\r\n              <template slot-scope=\"scope\">{{\r\n                scope.row.createtime | date\r\n              }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"u_id\" label=\"申请人\">\r\n              <!--<template slot-scope=\"scope\">{{ scope.row.u_id | username}}</template>-->\r\n            </el-table-column>\r\n            <el-table-column prop=\"leavetype\" label=\"类型\"> </el-table-column>\r\n            <el-table-column prop=\"reason\" label=\"详细信息\"> </el-table-column>\r\n            <el-table-column prop=\"state\" label=\"审核结果\">\r\n              <template slot-scope=\"scope\">{{\r\n                scope.row.state | state1\r\n              }}</template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  style=\"padding: 3px 0\"\r\n                  type=\"text\"\r\n                  @click=\"view(scope.$index, scope.row, 2)\"\r\n                  >同意</el-button\r\n                >\r\n                <el-button\r\n                  style=\"padding: 3px 0\"\r\n                  type=\"text\"\r\n                  @click=\"view(scope.$index, scope.row, 1)\"\r\n                  >拒绝</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"text-align: center; margin-top: 20px\">\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"currentPage\"\r\n              :page-sizes=\"[5, 10, 15, 20, 25]\"\r\n              :page-size=\"5\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"UserSize\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      UserSize: 0,\r\n      currentPage: 12,\r\n      tableData: [],\r\n      pageSize: 5,\r\n      pageNo: 1,\r\n      currentPage1: 10,\r\n    };\r\n  },\r\n  created() {\r\n    this.getapplication(this.pageNo, this.pageSize);\r\n  },\r\n  filters: {\r\n    date(time) {\r\n      var dt = new Date(time);\r\n      // yyyy-mm-dd\r\n      var y = dt.getFullYear();\r\n      var m = dt.getMonth() + 1;\r\n      var d = dt.getDate();\r\n      var hh = dt.getHours();\r\n      var mm = dt.getMinutes();\r\n      var ss = dt.getSeconds();\r\n      return y + \"-\" + m + \"-\" + d + \"  \" + hh + \":\" + mm + \":\" + ss;\r\n    },\r\n    state1(int) {\r\n      if (int == 0) {\r\n        return \"未审批\";\r\n      }\r\n      if (int == 1) {\r\n        return \"审批不通过\";\r\n      }\r\n      if (int == 2) {\r\n        return \"审批通过\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    /**\r\n          * 修改审批状态为同意\r\n          l_id:row.l_id,\r\n          upState:2\r\n          */\r\n    view(index, row, upState) {\r\n      this.$axiosjwt({\r\n        url: \"/admin/upLeaveState\",\r\n        method: \"get\",\r\n        data: {\r\n          l_id: row.l_id,\r\n          upState,\r\n        },\r\n        success: (result) => {\r\n          this.getapplication(this.pageNo, this.pageSize);\r\n        },\r\n        error: () => {\r\n          this.$router.push(\"/\");\r\n        },\r\n      });\r\n    },\r\n    /**\r\n          获取请假单\r\n          * @param no\r\n          * @param size\r\n          currPage:no,\r\n          pageNum:size\r\n          this.pageNo=1\r\n          this.tableData=result.data;\r\n          this.UserSize = result.total\r\n          */\r\n    getapplication(no, size) {\r\n      no = Number(no) - 1;\r\n      this.$axiosjwt({\r\n        url: \"/admin/getLeave\",\r\n        method: \"get\",\r\n        data: {\r\n          currPage: no,\r\n          pageNum: size,\r\n        },\r\n        success: (result) => {\r\n          this.pageNo = 1;\r\n          this.tableData = result.data;\r\n          this.UserSize = result.total;\r\n        },\r\n        error: () => {\r\n          this.$router.push(\"/\");\r\n        },\r\n      });\r\n    },\r\n\r\n    //分页\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.getapplication(this.pageNo, this.pageSize);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageNo = val;\r\n      this.getapplication(this.pageNo, this.pageSize);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>\r\n"],"sourceRoot":"src/components/main"}]}