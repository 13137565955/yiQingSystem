{"remainingRequest":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\1biyesheji\\code\\prevention\\vue_epidemic\\src\\components\\main\\application.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\src\\components\\main\\application.vue","mtime":1639826428834},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626773863946},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1639745711564},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626773863946},{"path":"D:\\1biyesheji\\code\\prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1639745719456}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIFVzZXJTaXplOiAwLA0KICAgICAgY3VycmVudFBhZ2U6IDAsDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgcGFnZVNpemU6IDUsDQogICAgICBwYWdlTm86IDEsDQogICAgICBjdXJyZW50UGFnZTE6IDEsDQogICAgICB0ZXh0OiAiIiwNCiAgICAgIHRleHRhcmVhOiAiIiwNCiAgICAgIG9wdGlvbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAi6K+35YGHIiwNCiAgICAgICAgICBsYWJlbDogIuivt+WBhyIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogIuWkluWHuiIsDQogICAgICAgICAgbGFiZWw6ICLlpJblh7oiLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIHZhbHVlOiAiIiwNCiAgICAgIHBpY2tlck9wdGlvbnM6IHsNCiAgICAgICAgc2hvcnRjdXRzOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdGV4dDogIuacgOi/keS4gOWRqCIsDQogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgew0KICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOw0KICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDkuKrmnIgiLA0KICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsNCiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7DQogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdGV4dDogIuacgOi/keS4ieS4quaciCIsDQogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgew0KICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsNCiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICB2YWx1ZTE6ICIiLA0KICAgICAgdmFsdWUyOiAiIiwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sIHRoaXMucGFnZVNpemUpOw0KICB9LA0KICBmaWx0ZXJzOiB7DQogICAgZGF0ZSh0aW1lKSB7DQogICAgICB2YXIgZHQgPSBuZXcgRGF0ZSh0aW1lKTsNCiAgICAgIC8vIHl5eXktbW0tZGQNCiAgICAgIHZhciB5ID0gZHQuZ2V0RnVsbFllYXIoKTsNCiAgICAgIHZhciBtID0gZHQuZ2V0TW9udGgoKSArIDE7DQogICAgICB2YXIgZCA9IGR0LmdldERhdGUoKTsNCiAgICAgIHZhciBoaCA9IGR0LmdldEhvdXJzKCk7DQogICAgICB2YXIgbW0gPSBkdC5nZXRNaW51dGVzKCk7DQogICAgICB2YXIgc3MgPSBkdC5nZXRTZWNvbmRzKCk7DQogICAgICByZXR1cm4geSArICItIiArIG0gKyAiLSIgKyBkICsgIiAgIiArIGhoICsgIjoiICsgbW0gKyAiOiIgKyBzczsNCiAgICB9LA0KICAgIHN0YXRlKHR5cGUpIHsNCiAgICAgIGlmICh0eXBlID09IDApIHsNCiAgICAgICAgcmV0dXJuICLmnKrlrqHmibkiOw0KICAgICAgfQ0KICAgICAgaWYgKHR5cGUgPT0gMSkgew0KICAgICAgICByZXR1cm4gIuWuoeaJueS4jemAmui/hyI7DQogICAgICB9DQogICAgICBpZiAodHlwZSA9PSAyKSB7DQogICAgICAgIHJldHVybiAi5a6h5om56YCa6L+HIjsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLyoq6I635Y+W5oiR55qE6K+35YGH5Y2VDQogICAgICAgICAgICAgKg0KICAgICAgICAgICAgIGN1cnJQYWdlOm5vLTEsDQogICAgICAgICAgICAgcGFnZU51bTpzaXplDQogICAgICAgICAgICAgdGhpcy50YWJsZURhdGE9cmVzdWx0LmRhdGE7DQogICAgICAgICAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbA0KICAgICAgICAgICAgICogKi8NCiAgICBnZXRhcHBsaWNhdGlvbihubywgc2l6ZSkgew0KICAgICAgdGhpcy4kYXhpb3Nqd3Qoew0KICAgICAgICB1cmw6ICIvYWRtaW4vZ2V0dXNlckxlYXZlIiwNCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgIGN1cnJQYWdlOiBubyAtIDEsDQogICAgICAgICAgcGFnZU51bTogc2l6ZSwNCiAgICAgICAgfSwNCiAgICAgICAgc3VjY2VzczogKHJlc3VsdCkgPT4gew0KICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzdWx0LmRhdGE7DQogICAgICAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbDsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6ICgpID0+IHsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOw0KICAgICAgICB9LA0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgICAgICAgICAqIOivt+WBhw0KICAgICAgICAgICAgICoNCiAgICAgICAgICAgICByZWFzb246dGhpcy50ZXh0YXJlYSwNCiAgICAgICAgICAgICBsZWF2ZXR5cGU6dGhpcy52YWx1ZSwNCiAgICAgICAgICAgICBzdGFydHRpbWU6c3RhcnR0aW1lLA0KICAgICAgICAgICAgIGVuZHRpbWU6ZW5kdGltZQ0KICAgICAgICAgICAgIHRoaXMudmFsdWUyWzBd6K+35YGH6LW35aeL5pe26Ze0DQogICAgICAgICAgICAgdGhpcy52YWx1ZTJbMV3or7flgYfnu5PmnZ/ml7bpl7QNCiAgICAgICAgICAgICAqLw0KICAgIG9uYXBwbGljYXRpb24oKSB7DQogICAgICBpZiAoIXRoaXMudGV4dGFyZWEgfHwgIXRoaXMudmFsdWUgfHwgIXRoaXMudmFsdWUyKQ0KICAgICAgICB0aGlzLm9wZW4zKCLor7flgYfkv6Hmga/kuI3lj6/ku6XnlZnnqboiKTsNCiAgICAgIGVsc2Ugew0KICAgICAgICBsZXQgZHRzdGFydCA9IG5ldyBEYXRlKHRoaXMudmFsdWUyWzBdKTsNCiAgICAgICAgbGV0IGR0ZW5kID0gbmV3IERhdGUodGhpcy52YWx1ZTJbMV0pOw0KICAgICAgICBsZXQgc3RhcnR0aW1lID0gIiI7DQogICAgICAgIGxldCBlbmR0aW1lID0gIiI7DQogICAgICAgIGlmIChkdHN0YXJ0LmdldE1vbnRoKCkgKyAxIDwgMTApDQogICAgICAgICAgc3RhcnR0aW1lID0NCiAgICAgICAgICAgIGR0c3RhcnQuZ2V0RnVsbFllYXIoKSArDQogICAgICAgICAgICAiLTAiICsNCiAgICAgICAgICAgIChkdHN0YXJ0LmdldE1vbnRoKCkgKyAxKSArDQogICAgICAgICAgICAiLSIgKw0KICAgICAgICAgICAgZHRzdGFydC5nZXREYXRlKCk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICBzdGFydHRpbWUgPQ0KICAgICAgICAgICAgZHRzdGFydC5nZXRGdWxsWWVhcigpICsNCiAgICAgICAgICAgICItIiArDQogICAgICAgICAgICAoZHRzdGFydC5nZXRNb250aCgpICsgMSkgKw0KICAgICAgICAgICAgIi0iICsNCiAgICAgICAgICAgIGR0c3RhcnQuZ2V0RGF0ZSgpOw0KICAgICAgICBpZiAoZHRlbmQuZ2V0TW9udGgoKSArIDEgPCAxMCkNCiAgICAgICAgICBlbmR0aW1lID0NCiAgICAgICAgICAgIGR0ZW5kLmdldEZ1bGxZZWFyKCkgKw0KICAgICAgICAgICAgIi0wIiArDQogICAgICAgICAgICAoZHRlbmQuZ2V0TW9udGgoKSArIDEpICsNCiAgICAgICAgICAgICItIiArDQogICAgICAgICAgICBkdGVuZC5nZXREYXRlKCk7DQogICAgICAgIGVsc2UNCiAgICAgICAgICBlbmR0aW1lID0NCiAgICAgICAgICAgIGR0ZW5kLmdldEZ1bGxZZWFyKCkgKw0KICAgICAgICAgICAgIi0iICsNCiAgICAgICAgICAgIChkdGVuZC5nZXRNb250aCgpICsgMSkgKw0KICAgICAgICAgICAgIi0iICsNCiAgICAgICAgICAgIGR0ZW5kLmdldERhdGUoKTsNCg0KICAgICAgICB0aGlzLiRheGlvc2p3dCh7DQogICAgICAgICAgdXJsOiAiL3N0dWRlbnRzL3NldExlYXZlIiwNCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICByZWFzb246IHRoaXMudGV4dGFyZWEsDQogICAgICAgICAgICBsZWF2ZXR5cGU6IHRoaXMudmFsdWUsDQogICAgICAgICAgICBzdGFydHRpbWU6IHN0YXJ0dGltZSwNCiAgICAgICAgICAgIGVuZHRpbWU6IGVuZHRpbWUsDQogICAgICAgICAgfSwNCiAgICAgICAgICBzdWNjZXNzOiAocmVzdWx0KSA9PiB7DQogICAgICAgICAgICB0aGlzLmdldGFwcGxpY2F0aW9uKHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplKTsNCiAgICAgICAgICAgIHRoaXMub3BlbjIocmVzdWx0KTsNCiAgICAgICAgICAgIHRoaXMudGV4dGFyZWEgPSAiIjsNCiAgICAgICAgICAgIHRoaXMudmFsdWUgPSAiIjsNCiAgICAgICAgICAgIHRoaXMudmFsdWUyID0gIiI7DQogICAgICAgICAgfSwNCiAgICAgICAgICBlcnJvcjogKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsNCiAgICAgICAgICB9LA0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG9wZW4xKHYpIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uodik7DQogICAgfSwNCiAgICBvcGVuMih2KSB7DQogICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgbWVzc2FnZTogdiwNCiAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIG9wZW4zKHYpIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICBtZXNzYWdlOiB2LA0KICAgICAgICB0eXBlOiAid2FybmluZyIsDQogICAgICB9KTsNCiAgICB9LA0KDQogICAgb3BlbjQodikgew0KICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcih2KTsNCiAgICB9LA0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsNCiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7DQogICAgICB0aGlzLmdldGFwcGxpY2F0aW9uKHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhg5b2T5YmN6aG1JHt2YWx9IGApOw0KICAgICAgdGhpcy5wYWdlTm8gPSB2YWw7DQogICAgICB0aGlzLmdldGFwcGxpY2F0aW9uKHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["application.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"application.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span>填写假条</span>\r\n          </div>\r\n          <el-select v-model=\"value\" placeholder=\"请选择请假类型\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n          <div style=\"height: 20px\"></div>\r\n          <el-date-picker\r\n            v-model=\"value2\"\r\n            type=\"daterange\"\r\n            align=\"right\"\r\n            unlink-panels\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            :picker-options=\"pickerOptions\"\r\n          >\r\n          </el-date-picker>\r\n          <div style=\"height: 20px\"></div>\r\n          <el-input\r\n            type=\"textarea\"\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"textarea\"\r\n            maxlength=\"100\"\r\n            show-word-limit\r\n          >\r\n          </el-input>\r\n          <div style=\"height: 20px\"></div>\r\n          <div style=\"float: right\">\r\n            <el-button type=\"primary\" @click=\"onapplication\">提交</el-button>\r\n            <div style=\"height: 20px\"></div>\r\n          </div>\r\n        </el-card>\r\n        <el-divider><i class=\"el-icon-loading\"></i></el-divider>\r\n        <el-card style=\"margin-top: 20px; margin-bottom: 5rem\">\r\n          <el-table\r\n            :data=\"tableData\"\r\n            border\r\n            :default-sort=\"{ prop: 'createtime', order: 'descending' }\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column label=\"申请时间\" sortable>\r\n              <template slot-scope=\"scope\">{{\r\n                scope.row.createtime | date\r\n              }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"leavetype\" label=\"类型\"> </el-table-column>\r\n            <el-table-column prop=\"reason\" label=\"详细信息\"> </el-table-column>\r\n            <el-table-column label=\"审核结果\">\r\n              <template slot-scope=\"scope\">{{\r\n                scope.row.state | state\r\n              }}</template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"block\" style=\"text-align: center; margin-top: 20px\">\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"currentPage\"\r\n              :page-sizes=\"[5, 10, 15, 20, 25]\"\r\n              :page-size=\"5\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"UserSize\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      <!--<div style=\"width: 100%;height: 70rem\"></div>-->\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      UserSize: 0,\r\n      currentPage: 0,\r\n      tableData: [],\r\n      pageSize: 5,\r\n      pageNo: 1,\r\n      currentPage1: 1,\r\n      text: \"\",\r\n      textarea: \"\",\r\n      options: [\r\n        {\r\n          value: \"请假\",\r\n          label: \"请假\",\r\n        },\r\n        {\r\n          value: \"外出\",\r\n          label: \"外出\",\r\n        },\r\n      ],\r\n      value: \"\",\r\n      pickerOptions: {\r\n        shortcuts: [\r\n          {\r\n            text: \"最近一周\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            },\r\n          },\r\n          {\r\n            text: \"最近一个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            },\r\n          },\r\n          {\r\n            text: \"最近三个月\",\r\n            onClick(picker) {\r\n              const end = new Date();\r\n              const start = new Date();\r\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n              picker.$emit(\"pick\", [start, end]);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      value1: \"\",\r\n      value2: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.getapplication(this.pageNo, this.pageSize);\r\n  },\r\n  filters: {\r\n    date(time) {\r\n      var dt = new Date(time);\r\n      // yyyy-mm-dd\r\n      var y = dt.getFullYear();\r\n      var m = dt.getMonth() + 1;\r\n      var d = dt.getDate();\r\n      var hh = dt.getHours();\r\n      var mm = dt.getMinutes();\r\n      var ss = dt.getSeconds();\r\n      return y + \"-\" + m + \"-\" + d + \"  \" + hh + \":\" + mm + \":\" + ss;\r\n    },\r\n    state(type) {\r\n      if (type == 0) {\r\n        return \"未审批\";\r\n      }\r\n      if (type == 1) {\r\n        return \"审批不通过\";\r\n      }\r\n      if (type == 2) {\r\n        return \"审批通过\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    /**获取我的请假单\r\n             *\r\n             currPage:no-1,\r\n             pageNum:size\r\n             this.tableData=result.data;\r\n             this.UserSize = result.total\r\n             * */\r\n    getapplication(no, size) {\r\n      this.$axiosjwt({\r\n        url: \"/admin/getuserLeave\",\r\n        method: \"get\",\r\n        data: {\r\n          currPage: no - 1,\r\n          pageNum: size,\r\n        },\r\n        success: (result) => {\r\n          this.tableData = result.data;\r\n          this.UserSize = result.total;\r\n        },\r\n        error: () => {\r\n          this.$router.push(\"/\");\r\n        },\r\n      });\r\n    },\r\n    /**\r\n             * 请假\r\n             *\r\n             reason:this.textarea,\r\n             leavetype:this.value,\r\n             starttime:starttime,\r\n             endtime:endtime\r\n             this.value2[0]请假起始时间\r\n             this.value2[1]请假结束时间\r\n             */\r\n    onapplication() {\r\n      if (!this.textarea || !this.value || !this.value2)\r\n        this.open3(\"请假信息不可以留空\");\r\n      else {\r\n        let dtstart = new Date(this.value2[0]);\r\n        let dtend = new Date(this.value2[1]);\r\n        let starttime = \"\";\r\n        let endtime = \"\";\r\n        if (dtstart.getMonth() + 1 < 10)\r\n          starttime =\r\n            dtstart.getFullYear() +\r\n            \"-0\" +\r\n            (dtstart.getMonth() + 1) +\r\n            \"-\" +\r\n            dtstart.getDate();\r\n        else\r\n          starttime =\r\n            dtstart.getFullYear() +\r\n            \"-\" +\r\n            (dtstart.getMonth() + 1) +\r\n            \"-\" +\r\n            dtstart.getDate();\r\n        if (dtend.getMonth() + 1 < 10)\r\n          endtime =\r\n            dtend.getFullYear() +\r\n            \"-0\" +\r\n            (dtend.getMonth() + 1) +\r\n            \"-\" +\r\n            dtend.getDate();\r\n        else\r\n          endtime =\r\n            dtend.getFullYear() +\r\n            \"-\" +\r\n            (dtend.getMonth() + 1) +\r\n            \"-\" +\r\n            dtend.getDate();\r\n\r\n        this.$axiosjwt({\r\n          url: \"/students/setLeave\",\r\n          method: \"post\",\r\n          data: {\r\n            reason: this.textarea,\r\n            leavetype: this.value,\r\n            starttime: starttime,\r\n            endtime: endtime,\r\n          },\r\n          success: (result) => {\r\n            this.getapplication(this.pageNo, this.pageSize);\r\n            this.open2(result);\r\n            this.textarea = \"\";\r\n            this.value = \"\";\r\n            this.value2 = \"\";\r\n          },\r\n          error: () => {\r\n            this.$router.push(\"/\");\r\n          },\r\n        });\r\n      }\r\n    },\r\n    open1(v) {\r\n      this.$message(v);\r\n    },\r\n    open2(v) {\r\n      this.$message({\r\n        message: v,\r\n        type: \"success\",\r\n      });\r\n    },\r\n\r\n    open3(v) {\r\n      this.$message({\r\n        message: v,\r\n        type: \"warning\",\r\n      });\r\n    },\r\n\r\n    open4(v) {\r\n      this.$message.error(v);\r\n    },\r\n    handleSizeChange(val) {\r\n      // console.log(`每页 ${val} 条`);\r\n      this.pageSize = val;\r\n      this.getapplication(this.pageNo, this.pageSize);\r\n    },\r\n    handleCurrentChange(val) {\r\n      // console.log(`当前页${val} `);\r\n      this.pageNo = val;\r\n      this.getapplication(this.pageNo, this.pageSize);\r\n    },\r\n  },\r\n};\r\n</script>"]}]}